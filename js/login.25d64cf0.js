(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"456d":function(e,t,s){var a=s("4bf8"),i=s("0d58");s("5eda")("keys",function(){return function(e){return i(a(e))}})},"555f":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"preloader-wrapper big active"},[s("div",{staticClass:"spinner-layer spinner-blue"},[s("div",{staticClass:"circle-clipper left"},[s("div",{staticClass:"circle"})]),s("div",{staticClass:"gap-patch"},[s("div",{staticClass:"circle"})]),s("div",{staticClass:"circle-clipper right"},[s("div",{staticClass:"circle"})])]),s("div",{staticClass:"spinner-layer spinner-red"},[s("div",{staticClass:"circle-clipper left"},[s("div",{staticClass:"circle"})]),s("div",{staticClass:"gap-patch"},[s("div",{staticClass:"circle"})]),s("div",{staticClass:"circle-clipper right"},[s("div",{staticClass:"circle"})])]),s("div",{staticClass:"spinner-layer spinner-yellow"},[s("div",{staticClass:"circle-clipper left"},[s("div",{staticClass:"circle"})]),s("div",{staticClass:"gap-patch"},[s("div",{staticClass:"circle"})]),s("div",{staticClass:"circle-clipper right"},[s("div",{staticClass:"circle"})])]),s("div",{staticClass:"spinner-layer spinner-green"},[s("div",{staticClass:"circle-clipper left"},[s("div",{staticClass:"circle"})]),s("div",{staticClass:"gap-patch"},[s("div",{staticClass:"circle"})]),s("div",{staticClass:"circle-clipper right"},[s("div",{staticClass:"circle"})])])])}],r={name:"Loader"},n=r,o=s("2877"),l=Object(o["a"])(n,a,i,!1,null,null,null);t["a"]=l.exports},"5eda":function(e,t,s){var a=s("5ca1"),i=s("8378"),r=s("79e5");e.exports=function(e,t){var s=(i.Object||{})[e]||Object[e],n={};n[e]=t(s),a(a.S+a.F*r(function(){s(1)}),"Object",n)}},a55b:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col s12 m10 offset-m1 l8 offset-l2 xl6 offset-xl3"},[s("div",{staticClass:"card-panel hoverable"},[s("div",{staticClass:"switch right"},[s("label",[e._v("\n                    Acceso\n                    "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.pin,expression:"pin"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.pin)?e._i(e.pin,null)>-1:e.pin},on:{change:function(t){var s=e.pin,a=t.target,i=!!a.checked;if(Array.isArray(s)){var r=null,n=e._i(s,r);a.checked?n<0&&(e.pin=s.concat([r])):n>-1&&(e.pin=s.slice(0,n).concat(s.slice(n+1)))}else e.pin=i}}}),s("span",{staticClass:"lever green"}),e._v("\n                    Registro\n                    ")])]),s("h3",{staticClass:"justificado"},[e._v(e._s(e.pin?"Registro":"Acceso"))]),s("form",{on:{submit:function(t){return e.enviar(t)}}},[s("div",[e.pin?s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s6"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.nombre,expression:"nombre",modifiers:{trim:!0}}],staticClass:"validate",class:[e.vnombre?"":"red-text"],attrs:{id:"first_name",type:"text"},domProps:{value:e.nombre},on:{input:function(t){t.target.composing||(e.nombre=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),s("label",{class:[""!=e.nombre?"active":""],attrs:{for:"first_name"}},[e._v("Nombre")])]),s("div",{staticClass:"input-field col s6"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.apellido,expression:"apellido",modifiers:{trim:!0}}],staticClass:"validate",class:[e.vapellido?"":"red-text"],attrs:{id:"last_name",type:"text"},domProps:{value:e.apellido},on:{input:function(t){t.target.composing||(e.apellido=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),s("label",{class:[""!=e.apellido?"active":""],attrs:{for:"last_name"}},[e._v("Apellido")])]),s("div",{staticClass:"input-field col s6"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.username,expression:"username",modifiers:{trim:!0}}],staticClass:"validate",class:[e.vusuario?"":"red-text"],attrs:{id:"user_name",type:"text"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),s("label",{class:[""!=e.username?"active":""],attrs:{for:"user_name"}},[e._v("Usuario")])]),s("div",{staticClass:"input-field col s6"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.dni,expression:"dni",modifiers:{trim:!0}}],staticClass:"validate",class:[e.vdni?"":"red-text"],attrs:{id:"dni",type:"number",step:"1",min:"0"},domProps:{value:e.dni},on:{input:function(t){t.target.composing||(e.dni=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),s("label",{class:[""!=e.dni?"active":""],attrs:{for:"dni"}},[e._v("DNI")])]),s("div",{staticClass:"input-field col s6"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.telefono,expression:"telefono",modifiers:{trim:!0}}],staticClass:"validate",class:[e.vtelefono?"":"red-text"],attrs:{id:"telephone",type:"number",step:"1",min:"0"},domProps:{value:e.telefono},on:{input:function(t){t.target.composing||(e.telefono=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),s("label",{class:[""!=e.telefono?"active":""],attrs:{for:"telephone"}},[e._v("Teléfono")])])]):e._e()]),s("div",{staticClass:"row"},[e.pin?s("div",{staticClass:"input-field col s12"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.correo,expression:"correo",modifiers:{trim:!0}}],staticClass:"validate",class:[e.vcorreo?"":"red-text"],attrs:{id:"email",type:"email"},domProps:{value:e.correo},on:{input:function(t){t.target.composing||(e.correo=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),s("label",{class:[""!=e.correo?"active":""],attrs:{for:"email"}},[e._v("Email")])]):e._e(),e.pin?e._e():s("div",{staticClass:"input-field col s12"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.username,expression:"username",modifiers:{trim:!0}}],staticClass:"validate",class:[e.vusuario?"":"red-text"],attrs:{id:"user_name2",type:"text"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),s("label",{class:[""!=e.username?"active":""],attrs:{for:"user_name2"}},[e._v("Usuario")])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s12"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.pass1,expression:"pass1",modifiers:{trim:!0}}],staticClass:"validate",class:[e.vpas1?"":"red-text"],attrs:{id:"password",type:"password"},domProps:{value:e.pass1},on:{input:function(t){t.target.composing||(e.pass1=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),s("label",{class:[""!=e.pass1?"active":""],attrs:{for:"password"}},[e._v("Contraseña")])]),e.pin?e._e():s("p",{staticClass:"right"},[s("a",{staticClass:"btn btn-flat waves-effect transparent blue-text",on:{click:e.recuperar}},[e._v("Olvidé mi contraseña")])])]),e.pin?s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s12"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.pass2,expression:"pass2",modifiers:{trim:!0}}],staticClass:"validate",class:[e.vpas2?"":"red-text"],attrs:{id:"password2",type:"password"},domProps:{value:e.pass2},on:{input:function(t){t.target.composing||(e.pass2=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),s("label",{class:[""!=e.pass2?"active":""],attrs:{for:"password2"}},[e._v("Repita la contraseña")])])]):e._e(),s("div",{staticClass:"row"},[s("div",{staticClass:"input-field col s12"},[s("input",{staticClass:"btn waves-effect green",class:[e.load?"disabled":""],attrs:{type:"submit"},domProps:{value:e.pin?"Registrar":"Acceder"}})]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.load,expression:"load"}],staticClass:"col s12 centrado"},[s("Loader")],1)])])])])])])},i=[],r=(s("ac6a"),s("456d"),s("96cf"),s("3b8d")),n=s("cebc"),o=s("555f"),l=s("bc3a"),c=s.n(l),d=s("2f62");c.a.defaults.headers.post["Content-Type"]="application/json",c.a.defaults.headers.common["Content-Type"]="application/json";var p={name:"login",components:{Loader:o["a"]},data:function(){return{pin:!1,nombre:"",apellido:"",username:"",pass1:"",pass2:"",correo:"",telefono:"",dni:"",load:!1,respuesta:{}}},computed:Object(n["a"])({},Object(d["c"])(["logeado","api","clientID","secrete"]),{vnombre:function(){return""!=this.nombre&&!(this.nombre.length<3)},vapellido:function(){return""!=this.apellido&&!(this.apellido.length<3)},vusuario:function(){return""!=this.username&&!(this.username.length<5)},vdni:function(){return 8===this.dni.length},vtelefono:function(){return!(this.telefono.length<6)},vcorreo:function(){if(""==this.correo)return!1;var e=/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/;return!!e.test(this.correo)},vpas1:function(){if(""==this.pass1)return!1;if(this.pass1.length<8)return!1;var e=/^(?=.*\d)(?=.*[a-záéíóúüñ]).*[A-ZÁÉÍÓÚÜÑ]/;return!!e.test(this.pass1)},vpas2:function(){return this.pass1===this.pass2}}),methods:Object(n["a"])({},Object(d["b"])(["logear","logout"]),{enviar:function(e){e.preventDefault(),this.pin&&this.validado()?(this.load=!0,this.tryReg()):this.pin||(this.load=!0,this.tryLogin())},validado:function(){return this.vnombre||M.toast({html:"El nombre debe tener al menos 3 letras."}),this.vapellido||M.toast({html:"El apellido debe tener al menos 3 letras."}),this.vusuario||M.toast({html:"El nombre de usuario debe tener al menos 3 letras."}),this.vdni||M.toast({html:"El DNI debe tener 8 dífitos."}),this.vtelefono||M.toast({html:"El telefono debe tener al menos 6 dígitos."}),this.vcorreo||M.toast({html:"El correo debe tener el formato xx@xx.xx"}),this.vpas1||M.toast({html:"La contraseña debe tener al menos 8 caracteres y debe contener minusculas, mayusculas y números."}),this.vpas2||M.toast({html:"Las contraseñas no son iguales."}),this.vnombre&&this.vapellido&&this.vusuario&&this.vdni&&this.vtelefono&&this.vcorreo&&this.vpas1&&this.vpas2},recuperar:function(){M.toast({html:"Envie un correo a recuperar@weblota.com.pe, desde el correo de la cuenta."})},tryReg:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:c()({method:"POST",url:this.api+"/api/socceruser/",data:{dni:this.dni,username:this.username,first_name:this.nombre,last_name:this.apellido,password:this.pass1,email:this.correo,telephone:this.telefono},headers:{"Content-Type":"application/json",Accept:"application/json, text/plain, */*"}}).then(function(e){t.load=!1,M.toast({html:"Usuario creado!"}),t.pin=!1,t.tryLogin()}).catch(function(e){if(t.load=!1,e.response&&e.response.data)if(Object.keys(e.response.data).length>0)for(var s in e.response.data)for(var a=0;a<e.response.data[s].length;a++)M.toast({html:e.response.data[s][a]});else M.toast({html:"Ocurrió un error!"});else M.toast({html:"Ocurrió un error!"})});case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),tryLogin:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:c()({method:"POST",url:this.api+"/o/token/?client_id="+this.clientID+"&client_secret="+this.secrete+"&grant_type=password&scope=read%20write&username="+this.username+"&password="+this.pass1,data:{},headers:{"Content-Type":"application/json",Accept:"application/json, text/plain, */*"}}).then(function(e){t.load=!1,t.logear({nombre:t.username,datos:e.data}),M.toast({html:"Usuario Logeado!"}),t.$router.push("/")}).catch(function(e){t.load=!1,console.log(e),e.response?M.toast({html:e.response.data.error_description}):M.toast({html:"Ocurrió un errorx2!"})});case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),doColapse:function(){var e=document.querySelectorAll(".collapsible");M.Collapsible.init(e,{})}}),mounted:function(){this.$nextTick(function(){this.logeado&&this.$router.push("/"),this.doColapse()})}},u=p,m=s("2877"),v=Object(m["a"])(u,a,i,!1,null,null,null);t["default"]=v.exports},ac6a:function(e,t,s){for(var a=s("cadf"),i=s("0d58"),r=s("2aba"),n=s("7726"),o=s("32e9"),l=s("84f2"),c=s("2b4c"),d=c("iterator"),p=c("toStringTag"),u=l.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=i(m),f=0;f<v.length;f++){var h,g=v[f],b=m[g],C=n[g],w=C&&C.prototype;if(w&&(w[d]||o(w,d,u),w[p]||o(w,p,g),l[g]=u,b))for(h in a)w[h]||r(w,h,a[h],!0)}}}]);
//# sourceMappingURL=login.25d64cf0.js.map